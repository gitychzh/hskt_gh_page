"use strict";(self.webpackChunkAutox_ozobi_Docs=self.webpackChunkAutox_ozobi_Docs||[]).push([["4617"],{8808:function(e,n,i){i.r(n),i.d(n,{default:()=>d});var t=i(5893),c=i(65);function s(e){let n=Object.assign({h1:"h1",a:"a",p:"p",strong:"strong",code:"code",pre:"pre",ul:"ul",li:"li"},(0,c.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"列表-list",children:["列表: list",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#列表-list",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"官方教程："})}),"\n",(0,t.jsxs)(n.p,{children:["参见 Android ",(0,t.jsx)(n.a,{href:"https://developer.android.google.cn/reference/androidx/recyclerview/widget/RecyclerView",target:"_blank",rel:"noopener noreferrer",children:"RecyclerView"})]}),"\n",(0,t.jsxs)(n.p,{children:["事件:",(0,t.jsx)(n.code,{children:" item_click"}),":"]}),"\n",(0,t.jsx)(n.p,{children:"当用户点击一个 List 中的项时会触发该事件。"}),"\n",(0,t.jsx)(n.p,{children:"例子："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'"ui";\n$ui.layout(\n    <frame>\n        <list id="list">\n            <vertical>\n                <text id="name" textSize="16sp" textColor="#000000" text="姓名: {{name}}" />\n                <text id="age" textSize="16sp" textColor="#000000" text="年龄: {{age}}岁" />\n            </vertical>\n        </list>\n    </frame>\n);\nvar items = [\n    {\n        name: "小明",\n        age: 18,\n    },\n    {\n        name: "小红",\n        age: 30,\n    },\n];\n$ui.list.setDataSource(items);\n$ui.list.on("item_click", function (item, i, itemView, listView) {\n    toast("被点击的人名字为: " + item.name + "，年龄为: " + item.age);\n});\n'})}),"\n",(0,t.jsxs)(n.p,{children:["事件:",(0,t.jsx)(n.code,{children:" item_click"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"item"})," {any} 被点击的列表项的数据"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"i"})," {number} 被点击的列表项的位置"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"itemView"})," {View} 被点击的列表项的 View"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"listView"})," {View} 当前列表控件"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"当用户点击一个 List 中的项时会触发该事件。"}),"\n",(0,t.jsx)(n.p,{children:"例子："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'"ui";\n$ui.layout(\n    <frame>\n        <list id="list">\n            <vertical>\n                <text id="name" textSize="16sp" textColor="#000000" text="姓名: {{name}}" />\n                <text id="age" textSize="16sp" textColor="#000000" text="年龄: {{age}}岁" />\n            </vertical>\n        </list>\n    </frame>\n);\nvar items = [\n    {\n        name: "小明",\n        age: 18,\n    },\n    {\n        name: "小红",\n        age: 30,\n    },\n];\n$ui.list.setDataSource(items);\n$ui.list.on("item_click", function (item, i, itemView, listView) {\n    toast("被点击的人名字为: " + item.name + "，年龄为: " + item.age);\n});\n'})}),"\n",(0,t.jsxs)(n.p,{children:["事件: ",(0,t.jsx)(n.code,{children:"item_long_click"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"event"}),"{object} 事件，字段有：","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"consumed"})," {boolean} 设置此事件是否被消费"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"view"})," {View} 此事件对应的 View"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"item"})," {any} 被点击的列表项的数据"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"i"})," {number} 被点击的列表项的位置"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"itemView"})," {View} 被点击的列表项的 View"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"listView"})," {View} 当前列表控件"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"当用户长按一个 List 中的项时会触发该事件。"}),"\n",(0,t.jsxs)(n.p,{children:["事件: ",(0,t.jsx)(n.code,{children:"item_bind"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"itemView"})," {View} 当前列表项的 View"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"itemHolder"}),"{object} 当前列表项的管理对象，可动态获取列表项的位置和数据。","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"item"})," {any} 获取列表项的数据"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"position"})," {number} 获取列表项的位置"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"当列表创建一个新的列表项的 View 时触发该事件。实际上列表控件不会为列表控件的每个项目创建一个单独的 View，假设列表为 2000 个，屏幕最多显示 10 个，那么列表控件只会创建 10 个左右的 View。"}),"\n",(0,t.jsx)(n.p,{children:"这个事件通常用于对列表项的 View 设置事件回调，比如："}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'"ui";\n$ui.layout(\n    <frame>\n        <list id="list">\n            <vertical>\n                <text id="name" textSize="16sp" textColor="#000000" text="姓名: {{this.name}}" />\n                <checkbox id="checkbox" checked="{{this.checked}}" />\n            </vertical>\n        </list>\n    </frame>\n);\nvar items = [\n    {\n        name: "小明",\n        checked: false,\n    },\n    {\n        name: "小红",\n        checked: false,\n    },\n];\n$ui.list.setDataSource(items);\n\n$ui.list.on("item_bind", function (itemView, itemHolder) {\n    itemView.checkbox.on("check", function (checked) {\n        let item = itemHolder.item;\n        item.checked = checked;\n        console.log(item);\n    });\n});\n'})}),"\n",(0,t.jsxs)(n.p,{children:["事件: ",(0,t.jsx)(n.code,{children:"item_data_bind"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"itemView"})," {View} 当前列表项的 View"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"itemHolder"}),"{object} 当前列表项的管理对象，可获取列表项的位置和数据。","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"item"})," {any} 获取列表项的数据"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"position"})," {number} 获取列表项的位置"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"当列表将一个列表项的数据绑定到列表项的 View 时触发该事件。"}),"\n",(0,t.jsx)(n.p,{children:"例子:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'"ui";\n$ui.layout(\n    <frame>\n        <list id="list">\n            <vertical>\n                <text id="name" textSize="16sp" textColor="#000000" text="姓名: {{this.name}}" />\n                <checkbox id="checkbox" checked="{{this.checked}}" />\n            </vertical>\n        </list>\n    </frame>\n);\nvar items = [\n    {\n        name: "小明",\n        checked: false,\n    },\n    {\n        name: "小红",\n        checked: false,\n    },\n];\n$ui.list.setDataSource(items);\n\n$ui.list.on("item_data_bind", function (itemView, itemHolder) {\n    let item = itemHolder.item;\n    itemView.name.setTextColor(item.checked ? $colors.RED : $colors.BLACK);\n});\n\n$ui.list.on("item_bind", function (itemView, itemHolder) {\n    itemView.checkbox.on("check", function (checked) {\n        let item = itemHolder.item;\n        item.checked = checked;\n        $ui.list.getAdapter().notifyItemChanged(itemHolder.position);\n    });\n});\n'})})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,c.ah)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}let d=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["doc%2Fbasic%2Fui%2Flist.md"]={toc:[],title:"列表: list",headingTitle:"列表: list",frontmatter:{}}}}]);