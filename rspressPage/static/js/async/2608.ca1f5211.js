"use strict";(self.webpackChunkAutox_ozobi_Docs=self.webpackChunkAutox_ozobi_Docs||[]).push([["2608"],{7975:function(e,i,n){n.r(i),n.d(i,{default:()=>c});var s=n(5893),r=n(65);function d(e){let i=Object.assign({h1:"h1",a:"a",div:"div",p:"p",code:"code",pre:"pre",h2:"h2",ul:"ul",li:"li",strong:"strong"},(0,r.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.h1,{id:"images",children:["Images",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#images",children:"#"})]}),"\n",(0,s.jsxs)(i.div,{className:"rspress-directive tip",children:[(0,s.jsx)(i.div,{className:"rspress-directive-title",children:"稳定性: 稳定"}),(0,s.jsx)(i.div,{className:"rspress-directive-content",children:"\n"})]}),"\n",(0,s.jsx)(i.p,{children:"images 模块提供了一些手机设备中常见的图片处理函数，包括截图、读写图片、图片剪裁、旋转、二值化、找色找图等。"}),"\n",(0,s.jsx)(i.p,{children:"该模块分为两个部分，找图找色部分和图片处理部分。"}),"\n",(0,s.jsx)(i.p,{children:"需要注意的是，image 对象创建后尽量在不使用时进行回收，同时避免循环创建大量图片。因为图片是一种占用内存比较大的资源，尽管 Auto.js 通过各种方式（比如图片缓存机制、垃圾回收时回收图片、脚本结束时回收所有图片）尽量降低图片资源的泄漏和内存占用，但是糟糕的代码仍然可以占用大量内存。"}),"\n",(0,s.jsxs)(i.p,{children:["Image 对象通过调用",(0,s.jsx)(i.code,{children:"recycle()"}),"函数来回收。例如："]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:'// 读取图片\nvar img = images.read("./1.png");\n//对图片进行操作\n...\n// 回收图片\nimg.recycle();\n'})}),"\n",(0,s.jsxs)(i.p,{children:["例外的是，",(0,s.jsx)(i.code,{children:"caputerScreen()"}),"返回的图片不需要回收。"]}),"\n",(0,s.jsxs)(i.h2,{id:"图片处理",children:["图片处理",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#图片处理",children:"#"})]}),"\n",(0,s.jsxs)(i.h2,{id:"imagesreadpath",children:["images.read(path)",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesreadpath",children:"#"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"path"})," {string} 图片路径"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"读取在路径 path 的图片文件并返回一个 Image 对象。如果文件不存在或者文件无法解码则返回 null。"}),"\n",(0,s.jsxs)(i.h2,{id:"imagesloadurl",children:["images.load(url)",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesloadurl",children:"#"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"url"})," {string} 图片 URL 地址"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"加载在地址 URL 的网络图片并返回一个 Image 对象。如果地址不存在或者图片无法解码则返回 null。"}),"\n",(0,s.jsxs)(i.h2,{id:"imagescopyimg",children:["images.copy(img)",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagescopyimg",children:"#"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"复制一张图片并返回新的副本。该函数会完全复制 img 对象的数据。"}),"\n",(0,s.jsxs)(i.h2,{id:"imagessaveimage-path-format--png-quality--100",children:['images.save(image, path[, format = "png", quality = 100])',(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagessaveimage-path-format--png-quality--100",children:"#"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"image"})," {Image} 图片"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"path"})," {string} 路径"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"format"})," {string} 图片格式，可选的值为:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"png"})}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"jpeg"}),"/",(0,s.jsx)(i.code,{children:"jpg"})]}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"webp"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"quality"})," {number} 图片质量，为 0~100 的整数值"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"把图片 image 以 PNG 格式保存到 path 中。如果文件不存在会被创建；文件存在会被覆盖。"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:'//把图片压缩为原来的一半质量并保存\nvar img = images.read("/sdcard/1.png");\nimages.save(img, "/sdcard/1.jpg", "jpg", 50);\napp.viewFile("/sdcard/1.jpg");\n'})}),"\n",(0,s.jsxs)(i.h2,{id:"imagesfrombase64base64",children:["images.fromBase64(base64)",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesfrombase64base64",children:"#"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"base64"})," {string} 图片的 Base64 数据"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["解码 Base64 数据并返回解码后的图片 Image 对象。如果 base64 无法解码则返回",(0,s.jsx)(i.code,{children:"null"}),"。"]}),"\n",(0,s.jsxs)(i.h2,{id:"imagestobase64img-format--png-quality--100",children:['images.toBase64(img[, format = "png", quality = 100])',(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagestobase64img-format--png-quality--100",children:"#"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"image"})," {image} 图片"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"format"})," {string} 图片格式，可选的值为:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"png"})}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"jpeg"}),"/",(0,s.jsx)(i.code,{children:"jpg"})]}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"webp"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"quality"})," {number} 图片质量，为 0~100 的整数值"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {string}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"把图片编码为 base64 数据并返回。"}),"\n",(0,s.jsxs)(i.h2,{id:"imagesfrombytesbytes",children:["images.fromBytes(bytes)",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesfrombytesbytes",children:"#"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"bytes"})," {byte[]} 字节数组"]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["解码字节数组 bytes 并返回解码后的图片 Image 对象。如果 bytes 无法解码则返回",(0,s.jsx)(i.code,{children:"null"}),"。"]}),"\n",(0,s.jsxs)(i.h2,{id:"imagestobytesimg-format--png-quality--100",children:['images.toBytes(img[, format = "png", quality = 100])',(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagestobytesimg-format--png-quality--100",children:"#"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"image"})," {image} 图片"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"format"})," {string} 图片格式，可选的值为:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"png"})}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"jpeg"}),"/",(0,s.jsx)(i.code,{children:"jpg"})]}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"webp"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"quality"})," {number} 图片质量，为 0~100 的整数值"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {byte[]}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"把图片编码为字节数组并返回。"}),"\n",(0,s.jsxs)(i.h2,{id:"imagesclipimg-x-y-w-h",children:["images.clip(img, x, y, w, h)",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesclipimg-x-y-w-h",children:"#"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"x"})," {number} 剪切区域的左上角横坐标"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"y"})," {number} 剪切区域的左上角纵坐标"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"w"})," {number} 剪切区域的宽度"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"h"})," {number} 剪切区域的高度"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"从图片 img 的位置(x, y)处剪切大小为 w * h 的区域，并返回该剪切区域的新图片。"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:'var src = images.read("/sdcard/1.png");\nvar clip = images.clip(src, 100, 100, 400, 400);\nimages.save(clip, "/sdcard/clip.png");\n'})}),"\n",(0,s.jsxs)(i.h2,{id:"imagesresizeimg-size-interpolation",children:["images.resize(img, size[, interpolation])",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesresizeimg-size-interpolation",children:"#"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"[v4.1.0 新增]"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"img"})," {Image} 图片"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"size"})," {Array} 两个元素的数组[w, h]，分别表示宽度和高度；如果只有一个元素，则宽度和高度相等"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"interpolation"}),' {string} 插值方法，可选，默认为"LINEAR"（线性插值），可选的值有：']}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"NEAREST"})," 最近邻插值"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"LINEAR"})," 线性插值（默认）"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"AREA"})," 区域插值"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"CUBIC"})," 三次样条插值"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"LANCZOS4"})," Lanczos 插值\n参见",(0,s.jsx)(i.a,{href:"https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform.html#ga5bb5a1fea74ea38e1a5445ca803ff121",target:"_blank",rel:"noopener noreferrer",children:"InterpolationFlags"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"返回 {Image}"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["调整图片大小，并返回调整后的图片。例如把图片放缩为 200*300：",(0,s.jsx)(i.code,{children:"images.resize(img, [200, 300])"}),"。"]}),"\n",(0,s.jsxs)(i.p,{children:["参见",(0,s.jsx)(i.a,{href:"https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform.html#ga47a974309e9102f5f08231edc7e7529d",target:"_blank",rel:"noopener noreferrer",children:"Imgproc.resize"}),"。"]}),"\n",(0,s.jsxs)(i.h2,{id:"imagesscaleimg-fx-fy-interpolation",children:["images.scale(img, fx, fy[, interpolation])",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesscaleimg-fx-fy-interpolation",children:"#"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"[v4.1.0 新增]"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"img"})," {Image} 图片"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"fx"})," {number} 宽度放缩倍数"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"fy"})," {number} 高度放缩倍数"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"interpolation"}),' {string} 插值方法，可选，默认为"LINEAR"（线性插值），可选的值有：']}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"NEAREST"})," 最近邻插值"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"LINEAR"})," 线性插值（默认）"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"AREA"})," 区域插值"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"CUBIC"})," 三次样条插值"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"LANCZOS4"})," Lanczos 插值\n参见",(0,s.jsx)(i.a,{href:"https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform.html#ga5bb5a1fea74ea38e1a5445ca803ff121",target:"_blank",rel:"noopener noreferrer",children:"InterpolationFlags"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"返回 {Image}"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["放缩图片，并返回放缩后的图片。例如把图片变成原来的一半：",(0,s.jsx)(i.code,{children:"images.scale(img, 0.5, 0.5)"}),"。"]}),"\n",(0,s.jsxs)(i.p,{children:["参见",(0,s.jsx)(i.a,{href:"https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform.html#ga47a974309e9102f5f08231edc7e7529d",target:"_blank",rel:"noopener noreferrer",children:"Imgproc.resize"}),"。"]}),"\n",(0,s.jsxs)(i.h2,{id:"imagesrotateimg-degress-x-y",children:["images.rotate(img, degress[, x, y])",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesrotateimg-degress-x-y",children:"#"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"[v4.1.0 新增]"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"degress"})," {number} 旋转角度。"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"x"})," {number} 旋转中心 x 坐标，默认为图片中点"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"y"})," {number} 旋转中心 y 坐标，默认为图片中点"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"将图片逆时针旋转 degress 度，返回旋转后的图片对象。"}),"\n",(0,s.jsxs)(i.p,{children:["例如逆时针旋转 90 度为",(0,s.jsx)(i.code,{children:"images.rotate(img, 90)"}),"。"]}),"\n",(0,s.jsxs)(i.h2,{id:"imagesconcatimg1-image2-direction",children:["images.concat(img1, image2[, direction])",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesconcatimg1-image2-direction",children:"#"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"[v4.1.0 新增]"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"img1"})," {Image} 图片 1"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"img2"})," {Image} 图片 2"]}),"\n",(0,s.jsxs)(i.li,{children:['direction {string} 连接方向，默认为"RIGHT"，可选的值有：',"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"LEFT"})," 将图片 2 接到图片 1 左边"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"RIGHT"})," 将图片 2 接到图片 1 右边"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"TOP"})," 将图片 2 接到图片 1 上边"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"BOTTOM"})," 将图片 2 接到图片 1 下边"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"连接两张图片，并返回连接后的图像。如果两张图片大小不一致，小的那张将适当居中。"}),"\n",(0,s.jsxs)(i.h2,{id:"imagesgrayscaleimg",children:["images.grayscale(img)",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesgrayscaleimg",children:"#"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"[v4.1.0 新增]"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"灰度化图片，并返回灰度化后的图片。"}),"\n",(0,s.jsxs)(i.h2,{id:"imagesthresholdimg-threshold-maxval-type",children:["images.threshold(img, threshold, maxVal[, type])",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesthresholdimg-threshold-maxval-type",children:"#"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"[v4.1.0 新增]"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"threshold"})," {number} 阈值"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"maxVal"})," {number} 最大值"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"type"}),' {string} 阈值化类型，默认为"BINARY"，参见',(0,s.jsx)(i.a,{href:"https://docs.opencv.org/3.4.4/d7/d1b/group__imgproc__misc.html#gaa9e58d2860d4afa658ef70a9b1115576",target:"_blank",rel:"noopener noreferrer",children:"ThresholdTypes"}),", 可选的值:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"BINARY"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"BINARY_INV"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"TRUNC"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"TOZERO"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"TOZERO_INV"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"OTSU"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"TRIANGLE"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["将图片阈值化，并返回处理后的图像。可以用这个函数进行图片二值化。例如：",(0,s.jsx)(i.code,{children:'images.threshold(img, 100, 255, "BINARY")'}),"，这个代码将图片中大于 100 的值全部变成 255，其余变成 0，从而达到二值化的效果。如果 img 是一张灰度化图片，这个代码将会得到一张黑白图片。"]}),"\n",(0,s.jsxs)(i.p,{children:["可以参考有关博客（比如",(0,s.jsx)(i.a,{href:"https://blog.csdn.net/u012566751/article/details/77046445",target:"_blank",rel:"noopener noreferrer",children:"threshold 函数的使用"}),"）或者 OpenCV 文档",(0,s.jsx)(i.a,{href:"https://docs.opencv.org/3.4.4/d7/d1b/group__imgproc__misc.html#gae8a4a146d1ca78c626a53577199e9c57",target:"_blank",rel:"noopener noreferrer",children:"threshold"}),"。"]}),"\n",(0,s.jsxs)(i.h2,{id:"imagesadaptivethresholdimg-maxvalue-adaptivemethod-thresholdtype-blocksize-c",children:["images.adaptiveThreshold(img, maxValue, adaptiveMethod, thresholdType, blockSize, C)",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesadaptivethresholdimg-maxvalue-adaptivemethod-thresholdtype-blocksize-c",children:"#"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"[v4.1.0 新增]"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"maxValue"})," {number} 最大值"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"adaptiveMethod"})," {string} 在一个邻域内计算阈值所采用的算法，可选的值有：","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"MEAN_C"})," 计算出领域的平均值再减去参数 C 的值"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"GAUSSIAN_C"})," 计算出领域的高斯均值再减去参数 C 的值"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"thresholdType"})," {string} 阈值化类型，可选的值有：","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"BINARY"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.code,{children:"BINARY_INV"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"blockSize"})," {number} 邻域块大小"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"C"})," {number} 偏移值调整量"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"对图片进行自适应阈值化处理，并返回处理后的图像。"}),"\n",(0,s.jsxs)(i.p,{children:["可以参考有关博客（比如",(0,s.jsx)(i.a,{href:"https://blog.csdn.net/guduruyu/article/details/68059450",target:"_blank",rel:"noopener noreferrer",children:"threshold 与 adaptiveThreshold"}),"）或者 OpenCV 文档",(0,s.jsx)(i.a,{href:"https://docs.opencv.org/3.4.4/d7/d1b/group__imgproc__misc.html#ga72b913f352e4a1b1b397736707afcde3",target:"_blank",rel:"noopener noreferrer",children:"adaptiveThreshold"}),"。"]}),"\n",(0,s.jsxs)(i.h2,{id:"imagescvtcolorimg-code-dstcn",children:["images.cvtColor(img, code[, dstCn])",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagescvtcolorimg-code-dstcn",children:"#"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"[v4.1.0 新增]"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"code"})," {string} 颜色空间转换的类型，可选的值有一共有 205 个（参见",(0,s.jsx)(i.a,{href:"https://docs.opencv.org/3.4.4/d8/d01/group__imgproc__color__conversions.html#ga4e0972be5de079fed4e3a10e24ef5ef0",target:"_blank",rel:"noopener noreferrer",children:"ColorConversionCodes"}),"），这里只列出几个：","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"BGR2GRAY"})," BGR 转换为灰度"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"BGR2HSV "})," BGR 转换为 HSV"]}),"\n",(0,s.jsx)(i.li,{children:"``"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"dstCn"})," {number} 目标图像的颜色通道数量，如果不填写则根据其他参数自动决定。"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"对图像进行颜色空间转换，并返回转换后的图像。"}),"\n",(0,s.jsxs)(i.p,{children:["可以参考有关博客（比如",(0,s.jsx)(i.a,{href:"https://blog.csdn.net/u011574296/article/details/70896811?locationNum=14&fps=1",target:"_blank",rel:"noopener noreferrer",children:"颜色空间转换"}),"）或者 OpenCV 文档",(0,s.jsx)(i.a,{href:"https://docs.opencv.org/3.4.4/d8/d01/group__imgproc__color__conversions.html#ga397ae87e1288a81d2363b61574eb8cab",target:"_blank",rel:"noopener noreferrer",children:"cvtColor"}),"。"]}),"\n",(0,s.jsxs)(i.h2,{id:"imagesinrangeimg-lowerbound-upperbound",children:["images.inRange(img, lowerBound, upperBound)",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesinrangeimg-lowerbound-upperbound",children:"#"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"[v4.1.0 新增]"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"lowerBound"})," {string} | {number} 颜色下界"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"upperBound"})," {string} | {number} 颜色下界"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"将图片二值化，在 lowerBound~upperBound 范围以外的颜色都变成 0，在范围以内的颜色都变成 255。"}),"\n",(0,s.jsxs)(i.p,{children:["例如",(0,s.jsx)(i.code,{children:'images.inRange(img, "#000000", "#222222")'}),"。"]}),"\n",(0,s.jsxs)(i.h2,{id:"imagesintervalimg-color-interval",children:["images.interval(img, color, interval)",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesintervalimg-color-interval",children:"#"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"[v4.1.0 新增]"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"color"})," {string} | {number} 颜色值"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"interval"})," {number} 每个通道的范围间隔"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"将图片二值化，在 color-interval ~ color+interval 范围以外的颜色都变成 0，在范围以内的颜色都变成 255。这里对 color 的加减是对每个通道而言的。"}),"\n",(0,s.jsxs)(i.p,{children:["例如",(0,s.jsx)(i.code,{children:'images.interval(img, "#888888", 16)'}),"，每个通道的颜色值均为 0x88，加减 16 后的范围是[0x78, 0x98]，因此这个代码将把#787878~#989898 的颜色变成#FFFFFF，而把这个范围以外的变成#000000。"]}),"\n",(0,s.jsxs)(i.h2,{id:"imagesblurimg-size-anchor-type",children:["images.blur(img, size[, anchor, type])",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesblurimg-size-anchor-type",children:"#"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"[v4.1.0 新增]"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"size"})," {Array} 定义滤波器的大小，如[3, 3]"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"anchor"})," {Array} 指定锚点位置(被平滑点)，默认为图像中心"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"type"}),' {string} 推断边缘像素类型，默认为"DEFAULT"，可选的值有：',"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"CONSTANT"})," iiiiii|abcdefgh|iiiiiii with some specified i"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"REPLICATE"})," aaaaaa|abcdefgh|hhhhhhh"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"REFLECT"})," fedcba|abcdefgh|hgfedcb"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"WRAP"})," cdefgh|abcdefgh|abcdefg"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"REFLECT_101"})," gfedcb|abcdefgh|gfedcba"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"TRANSPARENT"})," uvwxyz|abcdefgh|ijklmno"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"REFLECT101"})," same as BORDER_REFLECT_101"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"DEFAULT"})," same as BORDER_REFLECT_101"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"ISOLATED"})," do not look outside of ROI"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"对图像进行模糊（平滑处理），返回处理后的图像。"}),"\n",(0,s.jsxs)(i.p,{children:["可以参考有关博客（比如",(0,s.jsx)(i.a,{href:"https://www.cnblogs.com/denny402/p/3848316.html",target:"_blank",rel:"noopener noreferrer",children:"实现图像平滑处理"}),"）或者 OpenCV 文档",(0,s.jsx)(i.a,{href:"https://docs.opencv.org/3.4.4/d4/d86/group__imgproc__filter.html#ga8c45db9afe636703801b0b2e440fce37",target:"_blank",rel:"noopener noreferrer",children:"blur"}),"。"]}),"\n",(0,s.jsxs)(i.h2,{id:"imagesmedianblurimg-size",children:["images.medianBlur(img, size)",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesmedianblurimg-size",children:"#"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"[v4.1.0 新增]"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"size"})," {Array} 定义滤波器的大小，如[3, 3]"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"对图像进行中值滤波，返回处理后的图像。"}),"\n",(0,s.jsxs)(i.p,{children:["可以参考有关博客（比如",(0,s.jsx)(i.a,{href:"https://www.cnblogs.com/denny402/p/3848316.html",target:"_blank",rel:"noopener noreferrer",children:"实现图像平滑处理"}),"）或者 OpenCV 文档",(0,s.jsx)(i.a,{href:"https://docs.opencv.org/3.4.4/d4/d86/group__imgproc__filter.html#ga564869aa33e58769b4469101aac458f9",target:"_blank",rel:"noopener noreferrer",children:"blur"}),"。"]}),"\n",(0,s.jsxs)(i.h2,{id:"imagesgaussianblurimg-size-sigmax-sigmay-type",children:["images.gaussianBlur(img, size[, sigmaX, sigmaY, type])",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesgaussianblurimg-size-sigmax-sigmay-type",children:"#"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"[v4.1.0 新增]"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"size"})," {Array} 定义滤波器的大小，如[3, 3]"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"sigmaX"})," {number} x 方向的标准方差，不填写则自动计算"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"sigmaY"})," {number} y 方向的标准方差，不填写则自动计算"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"type"}),' {string} 推断边缘像素类型，默认为"DEFAULT"，参见',(0,s.jsx)(i.code,{children:"images.blur"})]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"对图像进行高斯模糊，返回处理后的图像。"}),"\n",(0,s.jsxs)(i.p,{children:["可以参考有关博客（比如",(0,s.jsx)(i.a,{href:"https://www.cnblogs.com/denny402/p/3848316.html",target:"_blank",rel:"noopener noreferrer",children:"实现图像平滑处理"}),"）或者 OpenCV 文档",(0,s.jsx)(i.a,{href:"https://docs.opencv.org/3.4.4/d4/d86/group__imgproc__filter.html#gaabe8c836e97159a9193fb0b11ac52cf1",target:"_blank",rel:"noopener noreferrer",children:"GaussianBlur"}),"。"]}),"\n",(0,s.jsxs)(i.h2,{id:"imagesmattoimagemat",children:["images.matToImage(mat)",(0,s.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#imagesmattoimagemat",children:"#"})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"[v4.1.0 新增]"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"mat"})," {Mat} OpenCV 的 Mat 对象"]}),"\n",(0,s.jsx)(i.li,{children:"返回 {Image}"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"把 Mat 对象转换为 Image 对象。"})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:i}=Object.assign({},(0,r.ah)(),e.components);return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}let c=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["doc%2Fadvanced%2Fimages%2Fimages.md"]={toc:[{text:"图片处理",id:"图片处理",depth:2},{text:"images.read(path)",id:"imagesreadpath",depth:2},{text:"images.load(url)",id:"imagesloadurl",depth:2},{text:"images.copy(img)",id:"imagescopyimg",depth:2},{text:'images.save(image, path[, format = "png", quality = 100])',id:"imagessaveimage-path-format--png-quality--100",depth:2},{text:"images.fromBase64(base64)",id:"imagesfrombase64base64",depth:2},{text:'images.toBase64(img[, format = "png", quality = 100])',id:"imagestobase64img-format--png-quality--100",depth:2},{text:"images.fromBytes(bytes)",id:"imagesfrombytesbytes",depth:2},{text:'images.toBytes(img[, format = "png", quality = 100])',id:"imagestobytesimg-format--png-quality--100",depth:2},{text:"images.clip(img, x, y, w, h)",id:"imagesclipimg-x-y-w-h",depth:2},{text:"images.resize(img, size[, interpolation])",id:"imagesresizeimg-size-interpolation",depth:2},{text:"images.scale(img, fx, fy[, interpolation])",id:"imagesscaleimg-fx-fy-interpolation",depth:2},{text:"images.rotate(img, degress[, x, y])",id:"imagesrotateimg-degress-x-y",depth:2},{text:"images.concat(img1, image2[, direction])",id:"imagesconcatimg1-image2-direction",depth:2},{text:"images.grayscale(img)",id:"imagesgrayscaleimg",depth:2},{text:"images.threshold(img, threshold, maxVal[, type])",id:"imagesthresholdimg-threshold-maxval-type",depth:2},{text:"images.adaptiveThreshold(img, maxValue, adaptiveMethod, thresholdType, blockSize, C)",id:"imagesadaptivethresholdimg-maxvalue-adaptivemethod-thresholdtype-blocksize-c",depth:2},{text:"images.cvtColor(img, code[, dstCn])",id:"imagescvtcolorimg-code-dstcn",depth:2},{text:"images.inRange(img, lowerBound, upperBound)",id:"imagesinrangeimg-lowerbound-upperbound",depth:2},{text:"images.interval(img, color, interval)",id:"imagesintervalimg-color-interval",depth:2},{text:"images.blur(img, size[, anchor, type])",id:"imagesblurimg-size-anchor-type",depth:2},{text:"images.medianBlur(img, size)",id:"imagesmedianblurimg-size",depth:2},{text:"images.gaussianBlur(img, size[, sigmaX, sigmaY, type])",id:"imagesgaussianblurimg-size-sigmax-sigmay-type",depth:2},{text:"images.matToImage(mat)",id:"imagesmattoimagemat",depth:2}],title:"Images",headingTitle:"Images",frontmatter:{}}}}]);